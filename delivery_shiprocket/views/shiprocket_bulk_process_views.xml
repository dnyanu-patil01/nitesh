<?xml version="1.0" encoding="UTF-8"?>
<odoo>
   <!-- Shiprocket Bulk Process Form View -->
   <record id="view_shiprocket_bulk_process_form" model="ir.ui.view">
      <field name="name">view.shiprocket.bulk.process.form</field>
      <field name="model">shiprocket.bulk.process</field>
      <field name="arch" type="xml">
         <form string="Shiprocket Bulk Process" duplicate="0">
            <header>
               <button name="shiprocket_create_awb" class="oe_highlight" confirm="This action will be done by backgroud.We will notify you soon." string="Validate All" type="object" states="draft,awb_created_partially" />
               <button name="shiprocket_open_wizard" type="object" string="Generate Manifest" states="ready_to_manifest,manifest_generated_partially" />
               <button name="generate_pickup_request_bulk" confirm="This action will be done by backgroud.We will notify you soon." string="Create Pickup Request" type="object" states="awb_created,pickup_created_partially" />
               <button name="shiprocket_get_ready_to_manifest" string="Get Ready To Generate Manifest" type="object" states="pickup_created" />
               <button name="print_label_group_by" string="Get Label Attachment" type="object" states="awb_created,waiting_to_manifest,pickup_created,awb_created_partially,pickup_created_partially,manifest_generated,done" />
               <button name="print_manifest_bulk" string="Get Manifest Attachment" type="object" states="manifest_generated,done" />
               <button name="cancel_bulk_process" string="Close" type="object" states="draft" />
               <button name="completed_bulk_process" class="oe_highlight" string="Mark As Done" type="object" states="manifest_generated" />
               <field name="state" widget="statusbar" statusbar_visible="waiting_awb,awb_created,waiting_to_manifest,ready_to_manifest" />
            </header>
            <sheet>
               <div class="oe_button_box" name="button_box">
                  <button name="action_picking_move_tree" string="Delivery Orders" type="object"
                            class="oe_stat_button" icon="fa-list-alt"
                            attrs="{'invisible': [('stock_picking_ids', '=', False)]}"/>
               </div>
               <group>
                  <group>
                     <field name="name" attrs="{'readonly':[('state','!=','draft')]}"/>
                     <field name="pickup_location_id" attrs="{'readonly':[('state','not in',('awb_created_partially','draft'))]}"/>
                     <field name="channel_id" attrs="{'readonly':[('state','not in',('draft','awb_created_partially'))]}"/>
                     <field name="shiprocket_courier_priority" attrs="{'readonly':[('state','not in',('draft','awb_created_partially'))]}" help="Based On This Courier Will Be Selected To Generated AWB" />
                  </group>
                  <group>
                     <field name="generate_labels_group_by_courier" />
                     <field name="user_id" attrs="{'readonly':[('state','not in',('draft','awb_created_partially'))]}"/>
                     <field name="response_comment" attrs="{'readonly':[('state','not in',('draft','awb_created_partially'))]}" />
                  </group>
               </group>
               <notebook>
                  <page name="all_stock_picking_ids" string="Delivery Orders">
                     <field name="stock_picking_ids" attrs="{'readonly':[('state','not in',('draft','awb_created_partially'))]}">
                        <tree>
                           <field name='has_packages' invisible='1'/>
                           <field name="partner_id" />
                           <field name="name"/>
                           <field name="scheduled_date" optional="show" />
                           <field name="shiprocket_order_id" optional="show" />
                           <field name="shiprocket_shipping_id" optional="show"/>
                           <field name="shiprocket_awb_code"  string = "AWB NO"/>
                           <field name="courier_id" string="Courier" optional="show"/>
                           <field name="courier_rate" string="Rate" optional="show" />
                           <field name="shiprocket_order_status_id"/>
                           <field name="response_comment" optional="hide" />
                           <field name="is_manifest_generated" string="Manifest" optional="show" />
                           <field name="is_awb_generated" string="AWB" optional="show" />
                           <field name="state" optional="show" />
                           <field name="tracking_id" optional="hide" />
                           <field name="shipment_id" optional="hide"/>
                           <field name="service_id" optional="hide"/>
                           <field name="carrier_name" string="Courier" optional="hide"/>
                           <field name="billed_weight" string="Weight" optional="hide"/>
                           <field name="event_code" optional="hide"/>
                           <field name="tracking_status" optional="hide"/>
                           <field name="barcode" optional="hide"/>
                           <button class="oe_highlight" name="action_put_in_pack" type="object" string="Put in Pack" attrs="{'invisible':[('has_packages','=',True)]}"/>
                        </tree>
                        <form>
                           <group>
                              <group>
                                 <field name="partner_id" readonly="1" />
                                 <field name="name" readonly="1" />
                                 <field name="scheduled_date" readonly="1" />
                                 <field name="shiprocket_order_id" readonly="1" />
                                 <field name="shiprocket_shipping_id" readonly="1" />
                                 <field name="state" readonly="1" />
                              </group>
                              <group>
                                 <field name="shiprocket_awb_code" readonly="1" />
                                 <field name="shiprocket_order_status_id" readonly="1" />
                                 <field name="response_comment" readonly="1" />
                                 <field name="is_manifest_generated" readonly="1" />
                                 <field name="company_id" readonly="1" />
                              </group>
                           </group>
                        </form>
                     </field>
                  </page>
                  <page name="process_log" string="Process Log">
                     <field name="bulk_process_log_line" widget="one2many" mode="tree">
                        <tree editable="top" create="false" delete="false">
                           <field name="picking_id" readonly="1"/>
                           <field name="response_comment" />
                        </tree>
                     </field>
                     <button class="btn btn-danger mx-3" style="margin:10px;" name="remove_do_lines" string="Remove Order From Bulk Process" type="object"/>
                  </page>
               </notebook>
            </sheet>
            <div class="oe_chatter">
               <field name="message_follower_ids" widget="mail_followers"/>
               <field name="message_ids" widget="mail_thread"/>
          </div>
         </form>
      </field>
   </record>
   <!-- Shiprocket Bulk Process View -->
   <record id="view_shiprocket_bulk_process_tree" model="ir.ui.view">
      <field name="name">view.shiprocket.bulk.process.tree</field>
      <field name="model">shiprocket.bulk.process</field>
      <field name="arch" type="xml">
         <tree string="Shiprocket Courier">
            <field name="name" />
            <field name="pickup_location_id" />
            <field name="channel_id" />
            <field name="shiprocket_courier_priority" />
            <field name="state" />
         </tree>
      </field>
   </record>
   <!-- Action For Shiprocket Bulk Process -->
   <record id="action_shiprocket_bulk_process" model="ir.actions.act_window">
      <field name="name">Shiprocket Bulk Process</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">shiprocket.bulk.process</field>
      <field name="view_mode">tree,form</field>
   </record>
   <menuitem id="menu_shiprocket_bulk_process" name="Shiprocket Bulk Process" parent="stock.menu_stock_warehouse_mgmt" action="action_shiprocket_bulk_process" sequence="5" />
</odoo>